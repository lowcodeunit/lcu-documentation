{"hash":"82ed72fba7fbeba2a0192a44744f6123eb538ecc","fesm2020":{"code":"import * as i0 from '@angular/core';\nimport { Injectable, EventEmitter, Component, Input, Output, HostListener, NgModule } from '@angular/core';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { FlexLayoutModule } from '@angular/flex-layout';\nimport { FathymSharedModule, MaterialModule, StateContext } from '@lcu/common';\nimport { FlatTreeControl } from '@angular/cdk/tree';\nimport * as i2 from '@angular/material/tree';\nimport { MatTreeFlattener, MatTreeFlatDataSource } from '@angular/material/tree';\nimport { of } from 'rxjs';\nimport * as i5 from 'ngx-markdown';\nimport { MarkedRenderer, MarkdownModule, MarkedOptions } from 'ngx-markdown';\nimport * as i1 from '@angular/common/http';\nimport { HttpClientModule, HttpClient } from '@angular/common/http';\nimport * as i3 from '@angular/material/button';\nimport * as i4 from '@angular/material/icon';\nimport * as i6 from '@angular/common';\nimport * as i7 from '@angular/flex-layout/flex';\n\nclass DocsService {\r\n    constructor() { }\r\n}\r\nDocsService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.1\", ngImport: i0, type: DocsService, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\r\nDocsService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"13.1.1\", ngImport: i0, type: DocsService, providedIn: 'root' });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.1\", ngImport: i0, type: DocsService, decorators: [{\r\n            type: Injectable,\r\n            args: [{\r\n                    providedIn: 'root'\r\n                }]\r\n        }], ctorParameters: function () { return []; } });\n\nclass FileNode {\r\n}\r\n/** Flat node with expandable and level information */\r\nclass FileFlatNode {\r\n    constructor(expandable, filename, level, path) {\r\n        this.expandable = expandable;\r\n        this.filename = filename;\r\n        this.level = level;\r\n        this.path = path;\r\n    }\r\n}\r\nconst originalHeading = new MarkedRenderer().heading;\r\nfunction markedOptionsFactory() {\r\n    const renderer = new MarkedRenderer();\r\n    let lastLevel = 0;\r\n    renderer.heading = (text, level, raw) => {\r\n        lastLevel = level;\r\n        return '<h' + level + '>' + text + '</h' + level + '>\\n';\r\n    };\r\n    renderer.link = (href, title, text) => {\r\n        return `<a title=\"${title || ''}\" href=\"${href}\">${text ||\r\n            title ||\r\n            href}</a>`;\r\n    };\r\n    renderer.paragraph = (text) => {\r\n        let pClass = '';\r\n        switch (lastLevel) {\r\n            case 1:\r\n            case 2:\r\n                pClass = 'mat-body-3';\r\n                break;\r\n            case 3:\r\n            case 4:\r\n                pClass = 'mat-body-2';\r\n                break;\r\n            default:\r\n                pClass = 'mat-body-1';\r\n                break;\r\n        }\r\n        return `<p class=\"${pClass}\">${text}</p>`;\r\n    };\r\n    return { renderer };\r\n}\r\nconst path = require('path-browserify');\r\nclass LcuDocsComponent {\r\n    //  Constructors\r\n    constructor(http) {\r\n        this.http = http;\r\n        this.DocChange = new EventEmitter();\r\n        this.TreeFlattener = new MatTreeFlattener(this.Transformer, this.getLevel, this.isExpandable, this.getChildren);\r\n        this.TreeControl = new FlatTreeControl(this.getLevel, this.isExpandable);\r\n        this.DataSource = new MatTreeFlatDataSource(this.TreeControl, this.TreeFlattener);\r\n    }\r\n    set Docs(docs) {\r\n        this.http\r\n            .get(path.join(docs, 'lcu.docs.json'))\r\n            .subscribe((res) => {\r\n            this.Config = res;\r\n            this.Reload();\r\n        });\r\n    }\r\n    //  Life Cycle\r\n    ngOnInit() {\r\n        this.Reload();\r\n    }\r\n    onClick(btn) {\r\n        if (btn && btn.href && btn.href.endsWith('.md')) {\r\n            const path = btn.href.replace(document.getElementsByTagName('base')[0].href, '');\r\n            console.log(`Going to doc: ${path}`);\r\n            this.GoToDoc(path);\r\n            return false;\r\n        }\r\n    }\r\n    //  API Methods\r\n    BuildFileTree() {\r\n        this.DataSource.data = this.buildFileTree(this.Config.Docs, 0);\r\n    }\r\n    FindDoc(path) {\r\n        return this.Config.Docs.find(d => d.Path === path);\r\n    }\r\n    GoToDoc(docOpt) {\r\n        const docPath = typeof docOpt === 'string'\r\n            ? docOpt\r\n            : docOpt.Path;\r\n        if (this.ActiveDocPath !== docPath) {\r\n            this.ActiveDocPath = docPath;\r\n        }\r\n        this.calculateActiveDocData();\r\n        this.DocChange.emit({ DocPath: docPath });\r\n    }\r\n    HasChild(_, nodeData) {\r\n        return nodeData.expandable;\r\n    }\r\n    Reload() {\r\n        if (this.Config && this.Config.Docs && this.Config.Docs.length > 0) {\r\n            this.BuildFileTree();\r\n            this.GoToDoc(this.ActiveDocPath || this.Config.DefaultDocPath || this.Config.Docs[0]);\r\n        }\r\n    }\r\n    Transformer(node) {\r\n        return new FileFlatNode(!!node.children, node.filename, node.level, node.path);\r\n    }\r\n    //  Helpers\r\n    buildFileTree(docs, level) {\r\n        return docs.reduce((accumulator, doc) => {\r\n            const node = this.buildFileNodeFromDoc(doc, level);\r\n            return accumulator.concat(node);\r\n        }, []);\r\n    }\r\n    buildFileNodeFromDoc(doc, level, bypassChildren) {\r\n        const node = new FileNode();\r\n        if (doc != null) {\r\n            node.filename = doc.Title;\r\n            node.level = level;\r\n            if (!bypassChildren && doc.Children && doc.Children.length > 0) {\r\n                node.children = this.buildFileTree(doc.Children, level + 1);\r\n                const docCatch = { ...doc };\r\n                docCatch.Children = null;\r\n            }\r\n            else {\r\n                node.path = doc.Path;\r\n            }\r\n        }\r\n        return node;\r\n    }\r\n    calculateActiveDocData() {\r\n        if (this.Config && this.ActiveDocPath) {\r\n            this.ActiveDocData = path.join(this.Config.LocationRoot, this.ActiveDocPath);\r\n        }\r\n        else {\r\n            this.ActiveDocData = null;\r\n        }\r\n    }\r\n    getLevel(node) {\r\n        return node.level;\r\n    }\r\n    isExpandable(node) {\r\n        return node.expandable;\r\n    }\r\n    getChildren(node) {\r\n        return of(node.children);\r\n    }\r\n}\r\nLcuDocsComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.1\", ngImport: i0, type: LcuDocsComponent, deps: [{ token: i1.HttpClient }], target: i0.ɵɵFactoryTarget.Component });\r\nLcuDocsComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.1.1\", type: LcuDocsComponent, selector: \"lcu-markdown-docs\", inputs: { Config: [\"config\", \"Config\"], Docs: [\"docs\", \"Docs\"] }, outputs: { DocChange: \"docChange\" }, host: { listeners: { \"click\": \"onClick($event.target)\" } }, ngImport: i0, template: \"<div fxLayout=\\\"row\\\" *ngIf=\\\"Config\\\">\\r\\n  <div fxFlex=\\\"0 1 auto\\\">\\r\\n    <mat-tree [dataSource]=\\\"DataSource\\\" [treeControl]=\\\"TreeControl\\\">\\r\\n      <mat-tree-node\\r\\n        *matTreeNodeDef=\\\"let node\\\"\\r\\n        matTreeNodeToggle\\r\\n        [matTreeNodePadding]=\\\"Config.IndentVariant * node.level\\\"\\r\\n      >\\r\\n        <button mat-icon-button disabled></button>\\r\\n\\r\\n        <a mat-button (click)=\\\"GoToDoc(node.path)\\\">{{ node.filename }}</a>\\r\\n      </mat-tree-node>\\r\\n\\r\\n      <mat-tree-node\\r\\n        *matTreeNodeDef=\\\"let node; when: HasChild\\\"\\r\\n        [matTreeNodePadding]=\\\"Config.IndentVariant * node.level\\\"\\r\\n      >\\r\\n        <button\\r\\n          mat-icon-button\\r\\n          matTreeNodeToggle\\r\\n          [attr.aria-label]=\\\"'toggle ' + node.filename\\\"\\r\\n        >\\r\\n          <mat-icon class=\\\"mat-icon-rtl-mirror\\\">\\r\\n            {{ TreeControl.isExpanded(node) ? \\\"expand_more\\\" : \\\"chevron_right\\\" }}\\r\\n          </mat-icon>\\r\\n        </button>\\r\\n\\r\\n        <a mat-button matTreeNodeToggle>{{ node.filename }}</a>\\r\\n      </mat-tree-node>\\r\\n    </mat-tree>\\r\\n  </div>\\r\\n\\r\\n  <div fxFlex=\\\"auto\\\">\\r\\n    <div class=\\\"push-right\\\">\\r\\n      <ng-container *ngIf=\\\"!!ActiveDocData\\\">\\r\\n        <markdown [src]=\\\"ActiveDocData\\\"></markdown>\\r\\n      </ng-container>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\", styles: [\":host .mat-tree{padding:1rem}\\n\"], components: [{ type: i2.MatTree, selector: \"mat-tree\", exportAs: [\"matTree\"] }, { type: i3.MatButton, selector: \"button[mat-button], button[mat-raised-button], button[mat-icon-button],             button[mat-fab], button[mat-mini-fab], button[mat-stroked-button],             button[mat-flat-button]\", inputs: [\"disabled\", \"disableRipple\", \"color\"], exportAs: [\"matButton\"] }, { type: i3.MatAnchor, selector: \"a[mat-button], a[mat-raised-button], a[mat-icon-button], a[mat-fab],             a[mat-mini-fab], a[mat-stroked-button], a[mat-flat-button]\", inputs: [\"disabled\", \"disableRipple\", \"color\", \"tabIndex\"], exportAs: [\"matButton\", \"matAnchor\"] }, { type: i4.MatIcon, selector: \"mat-icon\", inputs: [\"color\", \"inline\", \"svgIcon\", \"fontSet\", \"fontIcon\"], exportAs: [\"matIcon\"] }, { type: i5.MarkdownComponent, selector: \"markdown, [markdown]\", inputs: [\"data\", \"src\", \"emoji\", \"katex\", \"katexOptions\", \"lineHighlight\", \"line\", \"lineOffset\", \"lineNumbers\", \"start\", \"commandLine\", \"filterOutput\", \"host\", \"prompt\", \"output\", \"user\"], outputs: [\"error\", \"load\", \"ready\"] }], directives: [{ type: i6.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i7.DefaultLayoutDirective, selector: \"  [fxLayout], [fxLayout.xs], [fxLayout.sm], [fxLayout.md],  [fxLayout.lg], [fxLayout.xl], [fxLayout.lt-sm], [fxLayout.lt-md],  [fxLayout.lt-lg], [fxLayout.lt-xl], [fxLayout.gt-xs], [fxLayout.gt-sm],  [fxLayout.gt-md], [fxLayout.gt-lg]\", inputs: [\"fxLayout\", \"fxLayout.xs\", \"fxLayout.sm\", \"fxLayout.md\", \"fxLayout.lg\", \"fxLayout.xl\", \"fxLayout.lt-sm\", \"fxLayout.lt-md\", \"fxLayout.lt-lg\", \"fxLayout.lt-xl\", \"fxLayout.gt-xs\", \"fxLayout.gt-sm\", \"fxLayout.gt-md\", \"fxLayout.gt-lg\"] }, { type: i7.DefaultFlexDirective, selector: \"  [fxFlex], [fxFlex.xs], [fxFlex.sm], [fxFlex.md],  [fxFlex.lg], [fxFlex.xl], [fxFlex.lt-sm], [fxFlex.lt-md],  [fxFlex.lt-lg], [fxFlex.lt-xl], [fxFlex.gt-xs], [fxFlex.gt-sm],  [fxFlex.gt-md], [fxFlex.gt-lg]\", inputs: [\"fxFlex\", \"fxFlex.xs\", \"fxFlex.sm\", \"fxFlex.md\", \"fxFlex.lg\", \"fxFlex.xl\", \"fxFlex.lt-sm\", \"fxFlex.lt-md\", \"fxFlex.lt-lg\", \"fxFlex.lt-xl\", \"fxFlex.gt-xs\", \"fxFlex.gt-sm\", \"fxFlex.gt-md\", \"fxFlex.gt-lg\"] }, { type: i2.MatTreeNodeDef, selector: \"[matTreeNodeDef]\", inputs: [\"matTreeNodeDefWhen\", \"matTreeNode\"] }, { type: i2.MatTreeNode, selector: \"mat-tree-node\", inputs: [\"role\", \"disabled\", \"tabIndex\"], exportAs: [\"matTreeNode\"] }, { type: i2.MatTreeNodeToggle, selector: \"[matTreeNodeToggle]\", inputs: [\"matTreeNodeToggleRecursive\"] }, { type: i2.MatTreeNodePadding, selector: \"[matTreeNodePadding]\", inputs: [\"matTreeNodePadding\", \"matTreeNodePaddingIndent\"] }] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.1\", ngImport: i0, type: LcuDocsComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'lcu-markdown-docs', template: \"<div fxLayout=\\\"row\\\" *ngIf=\\\"Config\\\">\\r\\n  <div fxFlex=\\\"0 1 auto\\\">\\r\\n    <mat-tree [dataSource]=\\\"DataSource\\\" [treeControl]=\\\"TreeControl\\\">\\r\\n      <mat-tree-node\\r\\n        *matTreeNodeDef=\\\"let node\\\"\\r\\n        matTreeNodeToggle\\r\\n        [matTreeNodePadding]=\\\"Config.IndentVariant * node.level\\\"\\r\\n      >\\r\\n        <button mat-icon-button disabled></button>\\r\\n\\r\\n        <a mat-button (click)=\\\"GoToDoc(node.path)\\\">{{ node.filename }}</a>\\r\\n      </mat-tree-node>\\r\\n\\r\\n      <mat-tree-node\\r\\n        *matTreeNodeDef=\\\"let node; when: HasChild\\\"\\r\\n        [matTreeNodePadding]=\\\"Config.IndentVariant * node.level\\\"\\r\\n      >\\r\\n        <button\\r\\n          mat-icon-button\\r\\n          matTreeNodeToggle\\r\\n          [attr.aria-label]=\\\"'toggle ' + node.filename\\\"\\r\\n        >\\r\\n          <mat-icon class=\\\"mat-icon-rtl-mirror\\\">\\r\\n            {{ TreeControl.isExpanded(node) ? \\\"expand_more\\\" : \\\"chevron_right\\\" }}\\r\\n          </mat-icon>\\r\\n        </button>\\r\\n\\r\\n        <a mat-button matTreeNodeToggle>{{ node.filename }}</a>\\r\\n      </mat-tree-node>\\r\\n    </mat-tree>\\r\\n  </div>\\r\\n\\r\\n  <div fxFlex=\\\"auto\\\">\\r\\n    <div class=\\\"push-right\\\">\\r\\n      <ng-container *ngIf=\\\"!!ActiveDocData\\\">\\r\\n        <markdown [src]=\\\"ActiveDocData\\\"></markdown>\\r\\n      </ng-container>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\", styles: [\":host .mat-tree{padding:1rem}\\n\"] }]\r\n        }], ctorParameters: function () { return [{ type: i1.HttpClient }]; }, propDecorators: { Config: [{\r\n                type: Input,\r\n                args: ['config']\r\n            }], Docs: [{\r\n                type: Input,\r\n                args: ['docs']\r\n            }], DocChange: [{\r\n                type: Output,\r\n                args: ['docChange']\r\n            }], onClick: [{\r\n                type: HostListener,\r\n                args: ['click', ['$event.target']]\r\n            }] } });\n\nclass LcuDocumentationModule {\r\n    static forRoot() {\r\n        return {\r\n            ngModule: LcuDocumentationModule,\r\n            providers: [DocsService]\r\n        };\r\n    }\r\n}\r\nLcuDocumentationModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.1\", ngImport: i0, type: LcuDocumentationModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\nLcuDocumentationModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.1.1\", ngImport: i0, type: LcuDocumentationModule, declarations: [LcuDocsComponent], imports: [FathymSharedModule,\r\n        FormsModule,\r\n        ReactiveFormsModule,\r\n        FlexLayoutModule,\r\n        MaterialModule,\r\n        HttpClientModule, i5.MarkdownModule], exports: [LcuDocsComponent] });\r\nLcuDocumentationModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.1.1\", ngImport: i0, type: LcuDocumentationModule, imports: [[\r\n            FathymSharedModule,\r\n            FormsModule,\r\n            ReactiveFormsModule,\r\n            FlexLayoutModule,\r\n            MaterialModule,\r\n            HttpClientModule,\r\n            MarkdownModule.forRoot({\r\n                loader: HttpClient,\r\n                markedOptions: {\r\n                    provide: MarkedOptions,\r\n                    useFactory: markedOptionsFactory\r\n                }\r\n            })\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.1\", ngImport: i0, type: LcuDocumentationModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    declarations: [LcuDocsComponent],\r\n                    imports: [\r\n                        FathymSharedModule,\r\n                        FormsModule,\r\n                        ReactiveFormsModule,\r\n                        FlexLayoutModule,\r\n                        MaterialModule,\r\n                        HttpClientModule,\r\n                        MarkdownModule.forRoot({\r\n                            loader: HttpClient,\r\n                            markedOptions: {\r\n                                provide: MarkedOptions,\r\n                                useFactory: markedOptionsFactory\r\n                            }\r\n                        })\r\n                    ],\r\n                    exports: [LcuDocsComponent],\r\n                    entryComponents: []\r\n                }]\r\n        }] });\n\nclass LcuMarkdownDocsConfig {\r\n    constructor(opts) {\r\n        Object.assign(this, opts);\r\n    }\r\n}\r\nclass LcuMarkdownDoc {\r\n    constructor(opts) {\r\n        Object.assign(this, opts);\r\n    }\r\n}\r\nclass LcuMarkdownDocChangeEvent {\r\n    constructor(opts) {\r\n        Object.assign(this, opts);\r\n    }\r\n}\n\nclass DocsModel {\r\n}\n\nclass DocsManagerContext extends StateContext {\r\n    constructor(injector) {\r\n        super(injector);\r\n        this.injector = injector;\r\n    }\r\n    GetDocsById(id) {\r\n        this.State.Loading = true;\r\n        this.Execute({\r\n            Arguments: {\r\n                DocsId: id\r\n            },\r\n            Type: 'get-docs-by-id'\r\n        });\r\n    }\r\n    loadStateKey() {\r\n        return 'main';\r\n    }\r\n    loadStateName() {\r\n        return 'docs';\r\n    }\r\n}\r\nDocsManagerContext.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.1\", ngImport: i0, type: DocsManagerContext, deps: [{ token: i0.Injector }], target: i0.ɵɵFactoryTarget.Injectable });\r\nDocsManagerContext.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"13.1.1\", ngImport: i0, type: DocsManagerContext, providedIn: 'root' });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.1\", ngImport: i0, type: DocsManagerContext, decorators: [{\r\n            type: Injectable,\r\n            args: [{\r\n                    providedIn: 'root'\r\n                }]\r\n        }], ctorParameters: function () { return [{ type: i0.Injector }]; } });\n\nclass DocsUtils {\r\n    static upperDocs(input) {\r\n        return input.toUpperCase();\r\n    }\r\n}\n\n/**\r\n * Generated bundle index. Do not edit.\r\n */\n\nexport { DocsManagerContext, DocsModel, DocsService, DocsUtils, FileFlatNode, FileNode, LcuDocsComponent, LcuDocumentationModule, LcuMarkdownDoc, LcuMarkdownDocChangeEvent, LcuMarkdownDocsConfig, markedOptionsFactory, originalHeading };\n//# sourceMappingURL=lowcodeunit-lcu-documentation-common.mjs.map\n","map":{"version":3,"file":"lowcodeunit-lcu-documentation-common.mjs","sources":["../../../projects/common/src/lib/services/docs.service.ts","../../../projects/common/src/lib/controls/docs/docs.component.ts","../../../projects/common/src/lib/controls/docs/docs.component.html","../../../projects/common/src/lib/lcu-documentation.module.ts","../../../projects/common/src/lib/models/docs-config.ts","../../../projects/common/src/lib/models/docs.model.ts","../../../projects/common/src/lib/state/docs-manager.context.ts","../../../projects/common/src/lib/utils/docs.utils.ts","../../../projects/common/src/lowcodeunit-lcu-documentation-common.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class DocsService {\r\n\r\n  constructor() { }\r\n\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport {\r\n  Component,\r\n  OnInit,\r\n  Input,\r\n  Output,\r\n  EventEmitter,\r\n  HostListener\r\n} from '@angular/core';\r\nimport {\r\n  LcuMarkdownDocsConfig,\r\n  LcuMarkdownDocChangeEvent,\r\n  LcuMarkdownDoc\r\n} from '../../models/docs-config';\r\n// import { isString } from 'util';\r\nimport { FlatTreeControl } from '@angular/cdk/tree';\r\nimport { MatTreeFlattener, MatTreeFlatDataSource } from '@angular/material/tree';\r\nimport { Observable, of as observableOf } from 'rxjs';\r\nimport { MarkedOptions, MarkedRenderer } from 'ngx-markdown';\r\n\r\nexport class FileNode {\r\n  children: FileNode[];\r\n  filename: string;\r\n  level: number;\r\n  path: string;\r\n}\r\n\r\n/** Flat node with expandable and level information */\r\nexport class FileFlatNode {\r\n  constructor(\r\n    public expandable: boolean,\r\n    public filename: string,\r\n    public level: number,\r\n    public path: string\r\n  ) {}\r\n}\r\n\r\nexport const originalHeading = new MarkedRenderer().heading;\r\n\r\nexport function markedOptionsFactory(): MarkedOptions {\r\n  const renderer = new MarkedRenderer();\r\n\r\n  let lastLevel = 0;\r\n\r\n  renderer.heading = (text: string, level: number, raw: string) => {\r\n    lastLevel = level;\r\n    return '<h' + level + '>' + text + '</h' + level + '>\\n';\r\n  };\r\n\r\n  renderer.link = (href: string, title: string, text: string) => {\r\n    return `<a title=\"${title || ''}\" href=\"${href}\">${text ||\r\n      title ||\r\n      href}</a>`;\r\n  };\r\n\r\n  renderer.paragraph = (text: string) => {\r\n    let pClass = '';\r\n\r\n    switch (lastLevel) {\r\n      case 1:\r\n      case 2:\r\n        pClass = 'mat-body-3';\r\n        break;\r\n      case 3:\r\n      case 4:\r\n        pClass = 'mat-body-2';\r\n        break;\r\n      default:\r\n        pClass = 'mat-body-1';\r\n        break;\r\n    }\r\n\r\n    return `<p class=\"${pClass}\">${text}</p>`;\r\n  };\r\n\r\n  return { renderer };\r\n}\r\n\r\nconst path = require('path-browserify');\r\n\r\n@Component({\r\n  selector: 'lcu-markdown-docs',\r\n  templateUrl: './docs.component.html',\r\n  styleUrls: ['./docs.component.scss']\r\n})\r\nexport class LcuDocsComponent implements OnInit {\r\n\r\n  //  Properties\r\n  public ActiveDocData: string;\r\n  public ActiveDocPath: string;\r\n  public DataSource: MatTreeFlatDataSource<FileNode, FileFlatNode>;\r\n  public TreeControl: FlatTreeControl<FileFlatNode>;\r\n  public TreeFlattener: MatTreeFlattener<FileNode, FileFlatNode>;\r\n\r\n  @Input('config') public Config: LcuMarkdownDocsConfig;\r\n\r\n  @Input('docs')\r\n  public set Docs(docs: string) {\r\n    this.http\r\n      .get(path.join(docs, 'lcu.docs.json'))\r\n      .subscribe((res: LcuMarkdownDocsConfig) => {\r\n        this.Config = res;\r\n        this.Reload();\r\n      });\r\n  }\r\n\r\n  @Output('docChange')\r\n  public DocChange: EventEmitter<LcuMarkdownDocChangeEvent>;\r\n\r\n  //  Constructors\r\n  constructor(protected http: HttpClient) {\r\n    this.DocChange = new EventEmitter();\r\n\r\n    this.TreeFlattener = new MatTreeFlattener(\r\n      this.Transformer,\r\n      this.getLevel,\r\n      this.isExpandable,\r\n      this.getChildren\r\n    );\r\n\r\n    this.TreeControl = new FlatTreeControl<FileFlatNode>(\r\n      this.getLevel,\r\n      this.isExpandable\r\n    );\r\n\r\n    this.DataSource = new MatTreeFlatDataSource(\r\n      this.TreeControl,\r\n      this.TreeFlattener\r\n    );\r\n  }\r\n\r\n  //  Life Cycle\r\n  public ngOnInit(): void {\r\n    this.Reload();\r\n  }\r\n\r\n  @HostListener('click', ['$event.target'])\r\n  public onClick(btn: any) {\r\n    if (btn && btn.href && (btn.href as string).endsWith('.md')) {\r\n      const path = btn.href.replace(document.getElementsByTagName('base')[0].href, '');\r\n\r\n      console.log(`Going to doc: ${path}`);\r\n\r\n      this.GoToDoc(path);\r\n\r\n      return false;\r\n    }\r\n  }\r\n\r\n  //  API Methods\r\n  public BuildFileTree(): void {\r\n    this.DataSource.data = this.buildFileTree(this.Config.Docs, 0);\r\n  }\r\n\r\n  public FindDoc(path: string): LcuMarkdownDoc {\r\n    return this.Config.Docs.find(d => d.Path === path);\r\n  }\r\n\r\n  public GoToDoc(docOpt: LcuMarkdownDoc | string): void {\r\n    const docPath = typeof docOpt === 'string'\r\n      ? docOpt as string\r\n      : (docOpt as LcuMarkdownDoc).Path;\r\n\r\n    if (this.ActiveDocPath !== docPath) {\r\n      this.ActiveDocPath = docPath;\r\n    }\r\n\r\n    this.calculateActiveDocData();\r\n    this.DocChange.emit({ DocPath: docPath });\r\n  }\r\n\r\n  public HasChild(_: number, nodeData: FileFlatNode): boolean {\r\n    return nodeData.expandable;\r\n  }\r\n\r\n  public Reload(): void {\r\n    if (this.Config && this.Config.Docs && this.Config.Docs.length > 0) {\r\n      this.BuildFileTree();\r\n\r\n      this.GoToDoc(\r\n        this.ActiveDocPath || this.Config.DefaultDocPath || this.Config.Docs[0]\r\n      );\r\n    }\r\n  }\r\n\r\n  public Transformer(node: FileNode): FileFlatNode {\r\n    return new FileFlatNode(!!node.children, node.filename, node.level, node.path);\r\n  }\r\n\r\n  //  Helpers\r\n  protected buildFileTree(docs: LcuMarkdownDoc[], level: number): FileNode[] {\r\n    return docs.reduce<FileNode[]>((accumulator, doc) => {\r\n      const node = this.buildFileNodeFromDoc(doc, level);\r\n\r\n      return accumulator.concat(node);\r\n    }, []);\r\n  }\r\n\r\n  protected buildFileNodeFromDoc(doc: LcuMarkdownDoc, level: number, bypassChildren?: boolean): FileNode {\r\n    const node = new FileNode();\r\n\r\n    if (doc != null) {\r\n      node.filename = doc.Title;\r\n      node.level = level;\r\n\r\n      if (!bypassChildren && doc.Children && doc.Children.length > 0) {\r\n        node.children = this.buildFileTree(doc.Children, level + 1);\r\n        const docCatch = {...doc};\r\n        docCatch.Children = null;\r\n      } else {\r\n        node.path = doc.Path;\r\n      }\r\n    }\r\n\r\n    return node;\r\n  }\r\n\r\n  protected calculateActiveDocData(): void {\r\n    if (this.Config && this.ActiveDocPath) {\r\n      this.ActiveDocData = path.join(this.Config.LocationRoot, this.ActiveDocPath);\r\n    } else {\r\n      this.ActiveDocData = null;\r\n    }\r\n  }\r\n\r\n  protected getLevel(node: FileFlatNode): number {\r\n    return node.level;\r\n  }\r\n\r\n  protected isExpandable(node: FileFlatNode): boolean {\r\n    return node.expandable;\r\n  }\r\n\r\n  protected getChildren(node: FileNode): Observable<FileNode[]> {\r\n    return observableOf(node.children);\r\n  }\r\n}\r\n","<div fxLayout=\"row\" *ngIf=\"Config\">\r\n  <div fxFlex=\"0 1 auto\">\r\n    <mat-tree [dataSource]=\"DataSource\" [treeControl]=\"TreeControl\">\r\n      <mat-tree-node\r\n        *matTreeNodeDef=\"let node\"\r\n        matTreeNodeToggle\r\n        [matTreeNodePadding]=\"Config.IndentVariant * node.level\"\r\n      >\r\n        <button mat-icon-button disabled></button>\r\n\r\n        <a mat-button (click)=\"GoToDoc(node.path)\">{{ node.filename }}</a>\r\n      </mat-tree-node>\r\n\r\n      <mat-tree-node\r\n        *matTreeNodeDef=\"let node; when: HasChild\"\r\n        [matTreeNodePadding]=\"Config.IndentVariant * node.level\"\r\n      >\r\n        <button\r\n          mat-icon-button\r\n          matTreeNodeToggle\r\n          [attr.aria-label]=\"'toggle ' + node.filename\"\r\n        >\r\n          <mat-icon class=\"mat-icon-rtl-mirror\">\r\n            {{ TreeControl.isExpanded(node) ? \"expand_more\" : \"chevron_right\" }}\r\n          </mat-icon>\r\n        </button>\r\n\r\n        <a mat-button matTreeNodeToggle>{{ node.filename }}</a>\r\n      </mat-tree-node>\r\n    </mat-tree>\r\n  </div>\r\n\r\n  <div fxFlex=\"auto\">\r\n    <div class=\"push-right\">\r\n      <ng-container *ngIf=\"!!ActiveDocData\">\r\n        <markdown [src]=\"ActiveDocData\"></markdown>\r\n      </ng-container>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { FlexLayoutModule } from '@angular/flex-layout';\r\nimport { FathymSharedModule, MaterialModule } from '@lcu/common';\r\nimport { DocsService } from './services/docs.service';\r\nimport { LcuDocsComponent, markedOptionsFactory } from './controls/docs/docs.component';\r\nimport { HttpClientModule, HttpClient } from '@angular/common/http';\r\nimport { MarkdownModule, MarkedOptions } from 'ngx-markdown';\r\n\r\n@NgModule({\r\n  declarations: [LcuDocsComponent],\r\n  imports: [\r\n    FathymSharedModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    FlexLayoutModule,\r\n    MaterialModule,\r\n    HttpClientModule,\r\n    MarkdownModule.forRoot({\r\n      loader: HttpClient,\r\n      markedOptions: {\r\n        provide: MarkedOptions,\r\n        useFactory: markedOptionsFactory\r\n      }\r\n    })\r\n  ],\r\n  exports: [LcuDocsComponent],\r\n  entryComponents: []\r\n})\r\nexport class LcuDocumentationModule {\r\n  static forRoot(): ModuleWithProviders<LcuDocumentationModule> {\r\n    return {\r\n      ngModule: LcuDocumentationModule,\r\n      providers: [DocsService]\r\n    };\r\n  }\r\n}\r\n","export class LcuMarkdownDocsConfig {\r\n  public DefaultDocPath?: string;\r\n  public DisableNavigation?: boolean;\r\n  public Docs: LcuMarkdownDoc[];\r\n  public IndentVariant?: number;\r\n  public LocationRoot: string;\r\n\r\n  constructor(opts: LcuMarkdownDocsConfig) {\r\n    Object.assign(this, opts);\r\n  }\r\n}\r\n\r\nexport class LcuMarkdownDoc {\r\n  public Children: LcuMarkdownDoc[];\r\n  public Path: string;\r\n  public Title: string;\r\n\r\n  constructor(opts: LcuMarkdownDoc) {\r\n    Object.assign(this, opts);\r\n  }\r\n}\r\n\r\nexport class LcuMarkdownDocChangeEvent {\r\n  public DocPath: string;\r\n\r\n  constructor(opts: LcuMarkdownDocChangeEvent) {\r\n    Object.assign(this, opts);\r\n  }\r\n}\r\n","export class DocsModel {\r\n    public DocsId: number;\r\n    public Content: string;\r\n    public Icon: string;\r\n    public Loading?: boolean;\r\n    public Subtitle: string;\r\n    public Title: string;\r\n    public Url?: string;\r\n}\r\n","import { Injectable, Injector } from '@angular/core';\r\nimport { StateContext } from '@lcu/common';\r\nimport { DocsModel } from '../models/docs.model';\r\n\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\nexport class DocsManagerContext extends StateContext<DocsModel> {\r\n\r\n    protected State: DocsModel;\r\n\r\n    constructor(protected injector: Injector) {\r\n        super(injector);\r\n    }\r\n\r\n    public GetDocsById(id: number): void {\r\n        this.State.Loading = true;\r\n\r\n        this.Execute({\r\n            Arguments: {\r\n                DocsId: id\r\n            },\r\n            Type: 'get-docs-by-id'\r\n        });\r\n    }\r\n\r\n    protected loadStateKey(): string {\r\n        return 'main';\r\n    }\r\n\r\n    protected loadStateName(): string {\r\n        return 'docs';\r\n    }\r\n}\r\n","export class DocsUtils {\r\n\r\n    public static upperDocs(input: string): string {\r\n        return input.toUpperCase();\r\n    }\r\n}\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './lcu.api';\n"],"names":["observableOf"],"mappings":"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"}},"fesm2015":{"code":"import * as i0 from '@angular/core';\nimport { Injectable, EventEmitter, Component, Input, Output, HostListener, NgModule } from '@angular/core';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { FlexLayoutModule } from '@angular/flex-layout';\nimport { FathymSharedModule, MaterialModule, StateContext } from '@lcu/common';\nimport { FlatTreeControl } from '@angular/cdk/tree';\nimport * as i2 from '@angular/material/tree';\nimport { MatTreeFlattener, MatTreeFlatDataSource } from '@angular/material/tree';\nimport { of } from 'rxjs';\nimport * as i5 from 'ngx-markdown';\nimport { MarkedRenderer, MarkdownModule, MarkedOptions } from 'ngx-markdown';\nimport * as i1 from '@angular/common/http';\nimport { HttpClientModule, HttpClient } from '@angular/common/http';\nimport * as i3 from '@angular/material/button';\nimport * as i4 from '@angular/material/icon';\nimport * as i6 from '@angular/common';\nimport * as i7 from '@angular/flex-layout/flex';\n\nclass DocsService {\r\n    constructor() { }\r\n}\r\nDocsService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.1\", ngImport: i0, type: DocsService, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\r\nDocsService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"13.1.1\", ngImport: i0, type: DocsService, providedIn: 'root' });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.1\", ngImport: i0, type: DocsService, decorators: [{\r\n            type: Injectable,\r\n            args: [{\r\n                    providedIn: 'root'\r\n                }]\r\n        }], ctorParameters: function () { return []; } });\n\nclass FileNode {\r\n}\r\n/** Flat node with expandable and level information */\r\nclass FileFlatNode {\r\n    constructor(expandable, filename, level, path) {\r\n        this.expandable = expandable;\r\n        this.filename = filename;\r\n        this.level = level;\r\n        this.path = path;\r\n    }\r\n}\r\nconst originalHeading = new MarkedRenderer().heading;\r\nfunction markedOptionsFactory() {\r\n    const renderer = new MarkedRenderer();\r\n    let lastLevel = 0;\r\n    renderer.heading = (text, level, raw) => {\r\n        lastLevel = level;\r\n        return '<h' + level + '>' + text + '</h' + level + '>\\n';\r\n    };\r\n    renderer.link = (href, title, text) => {\r\n        return `<a title=\"${title || ''}\" href=\"${href}\">${text ||\r\n            title ||\r\n            href}</a>`;\r\n    };\r\n    renderer.paragraph = (text) => {\r\n        let pClass = '';\r\n        switch (lastLevel) {\r\n            case 1:\r\n            case 2:\r\n                pClass = 'mat-body-3';\r\n                break;\r\n            case 3:\r\n            case 4:\r\n                pClass = 'mat-body-2';\r\n                break;\r\n            default:\r\n                pClass = 'mat-body-1';\r\n                break;\r\n        }\r\n        return `<p class=\"${pClass}\">${text}</p>`;\r\n    };\r\n    return { renderer };\r\n}\r\nconst path = require('path-browserify');\r\nclass LcuDocsComponent {\r\n    //  Constructors\r\n    constructor(http) {\r\n        this.http = http;\r\n        this.DocChange = new EventEmitter();\r\n        this.TreeFlattener = new MatTreeFlattener(this.Transformer, this.getLevel, this.isExpandable, this.getChildren);\r\n        this.TreeControl = new FlatTreeControl(this.getLevel, this.isExpandable);\r\n        this.DataSource = new MatTreeFlatDataSource(this.TreeControl, this.TreeFlattener);\r\n    }\r\n    set Docs(docs) {\r\n        this.http\r\n            .get(path.join(docs, 'lcu.docs.json'))\r\n            .subscribe((res) => {\r\n            this.Config = res;\r\n            this.Reload();\r\n        });\r\n    }\r\n    //  Life Cycle\r\n    ngOnInit() {\r\n        this.Reload();\r\n    }\r\n    onClick(btn) {\r\n        if (btn && btn.href && btn.href.endsWith('.md')) {\r\n            const path = btn.href.replace(document.getElementsByTagName('base')[0].href, '');\r\n            console.log(`Going to doc: ${path}`);\r\n            this.GoToDoc(path);\r\n            return false;\r\n        }\r\n    }\r\n    //  API Methods\r\n    BuildFileTree() {\r\n        this.DataSource.data = this.buildFileTree(this.Config.Docs, 0);\r\n    }\r\n    FindDoc(path) {\r\n        return this.Config.Docs.find(d => d.Path === path);\r\n    }\r\n    GoToDoc(docOpt) {\r\n        const docPath = typeof docOpt === 'string'\r\n            ? docOpt\r\n            : docOpt.Path;\r\n        if (this.ActiveDocPath !== docPath) {\r\n            this.ActiveDocPath = docPath;\r\n        }\r\n        this.calculateActiveDocData();\r\n        this.DocChange.emit({ DocPath: docPath });\r\n    }\r\n    HasChild(_, nodeData) {\r\n        return nodeData.expandable;\r\n    }\r\n    Reload() {\r\n        if (this.Config && this.Config.Docs && this.Config.Docs.length > 0) {\r\n            this.BuildFileTree();\r\n            this.GoToDoc(this.ActiveDocPath || this.Config.DefaultDocPath || this.Config.Docs[0]);\r\n        }\r\n    }\r\n    Transformer(node) {\r\n        return new FileFlatNode(!!node.children, node.filename, node.level, node.path);\r\n    }\r\n    //  Helpers\r\n    buildFileTree(docs, level) {\r\n        return docs.reduce((accumulator, doc) => {\r\n            const node = this.buildFileNodeFromDoc(doc, level);\r\n            return accumulator.concat(node);\r\n        }, []);\r\n    }\r\n    buildFileNodeFromDoc(doc, level, bypassChildren) {\r\n        const node = new FileNode();\r\n        if (doc != null) {\r\n            node.filename = doc.Title;\r\n            node.level = level;\r\n            if (!bypassChildren && doc.Children && doc.Children.length > 0) {\r\n                node.children = this.buildFileTree(doc.Children, level + 1);\r\n                const docCatch = Object.assign({}, doc);\r\n                docCatch.Children = null;\r\n            }\r\n            else {\r\n                node.path = doc.Path;\r\n            }\r\n        }\r\n        return node;\r\n    }\r\n    calculateActiveDocData() {\r\n        if (this.Config && this.ActiveDocPath) {\r\n            this.ActiveDocData = path.join(this.Config.LocationRoot, this.ActiveDocPath);\r\n        }\r\n        else {\r\n            this.ActiveDocData = null;\r\n        }\r\n    }\r\n    getLevel(node) {\r\n        return node.level;\r\n    }\r\n    isExpandable(node) {\r\n        return node.expandable;\r\n    }\r\n    getChildren(node) {\r\n        return of(node.children);\r\n    }\r\n}\r\nLcuDocsComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.1\", ngImport: i0, type: LcuDocsComponent, deps: [{ token: i1.HttpClient }], target: i0.ɵɵFactoryTarget.Component });\r\nLcuDocsComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.1.1\", type: LcuDocsComponent, selector: \"lcu-markdown-docs\", inputs: { Config: [\"config\", \"Config\"], Docs: [\"docs\", \"Docs\"] }, outputs: { DocChange: \"docChange\" }, host: { listeners: { \"click\": \"onClick($event.target)\" } }, ngImport: i0, template: \"<div fxLayout=\\\"row\\\" *ngIf=\\\"Config\\\">\\r\\n  <div fxFlex=\\\"0 1 auto\\\">\\r\\n    <mat-tree [dataSource]=\\\"DataSource\\\" [treeControl]=\\\"TreeControl\\\">\\r\\n      <mat-tree-node\\r\\n        *matTreeNodeDef=\\\"let node\\\"\\r\\n        matTreeNodeToggle\\r\\n        [matTreeNodePadding]=\\\"Config.IndentVariant * node.level\\\"\\r\\n      >\\r\\n        <button mat-icon-button disabled></button>\\r\\n\\r\\n        <a mat-button (click)=\\\"GoToDoc(node.path)\\\">{{ node.filename }}</a>\\r\\n      </mat-tree-node>\\r\\n\\r\\n      <mat-tree-node\\r\\n        *matTreeNodeDef=\\\"let node; when: HasChild\\\"\\r\\n        [matTreeNodePadding]=\\\"Config.IndentVariant * node.level\\\"\\r\\n      >\\r\\n        <button\\r\\n          mat-icon-button\\r\\n          matTreeNodeToggle\\r\\n          [attr.aria-label]=\\\"'toggle ' + node.filename\\\"\\r\\n        >\\r\\n          <mat-icon class=\\\"mat-icon-rtl-mirror\\\">\\r\\n            {{ TreeControl.isExpanded(node) ? \\\"expand_more\\\" : \\\"chevron_right\\\" }}\\r\\n          </mat-icon>\\r\\n        </button>\\r\\n\\r\\n        <a mat-button matTreeNodeToggle>{{ node.filename }}</a>\\r\\n      </mat-tree-node>\\r\\n    </mat-tree>\\r\\n  </div>\\r\\n\\r\\n  <div fxFlex=\\\"auto\\\">\\r\\n    <div class=\\\"push-right\\\">\\r\\n      <ng-container *ngIf=\\\"!!ActiveDocData\\\">\\r\\n        <markdown [src]=\\\"ActiveDocData\\\"></markdown>\\r\\n      </ng-container>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\", styles: [\":host .mat-tree{padding:1rem}\\n\"], components: [{ type: i2.MatTree, selector: \"mat-tree\", exportAs: [\"matTree\"] }, { type: i3.MatButton, selector: \"button[mat-button], button[mat-raised-button], button[mat-icon-button],             button[mat-fab], button[mat-mini-fab], button[mat-stroked-button],             button[mat-flat-button]\", inputs: [\"disabled\", \"disableRipple\", \"color\"], exportAs: [\"matButton\"] }, { type: i3.MatAnchor, selector: \"a[mat-button], a[mat-raised-button], a[mat-icon-button], a[mat-fab],             a[mat-mini-fab], a[mat-stroked-button], a[mat-flat-button]\", inputs: [\"disabled\", \"disableRipple\", \"color\", \"tabIndex\"], exportAs: [\"matButton\", \"matAnchor\"] }, { type: i4.MatIcon, selector: \"mat-icon\", inputs: [\"color\", \"inline\", \"svgIcon\", \"fontSet\", \"fontIcon\"], exportAs: [\"matIcon\"] }, { type: i5.MarkdownComponent, selector: \"markdown, [markdown]\", inputs: [\"data\", \"src\", \"emoji\", \"katex\", \"katexOptions\", \"lineHighlight\", \"line\", \"lineOffset\", \"lineNumbers\", \"start\", \"commandLine\", \"filterOutput\", \"host\", \"prompt\", \"output\", \"user\"], outputs: [\"error\", \"load\", \"ready\"] }], directives: [{ type: i6.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i7.DefaultLayoutDirective, selector: \"  [fxLayout], [fxLayout.xs], [fxLayout.sm], [fxLayout.md],  [fxLayout.lg], [fxLayout.xl], [fxLayout.lt-sm], [fxLayout.lt-md],  [fxLayout.lt-lg], [fxLayout.lt-xl], [fxLayout.gt-xs], [fxLayout.gt-sm],  [fxLayout.gt-md], [fxLayout.gt-lg]\", inputs: [\"fxLayout\", \"fxLayout.xs\", \"fxLayout.sm\", \"fxLayout.md\", \"fxLayout.lg\", \"fxLayout.xl\", \"fxLayout.lt-sm\", \"fxLayout.lt-md\", \"fxLayout.lt-lg\", \"fxLayout.lt-xl\", \"fxLayout.gt-xs\", \"fxLayout.gt-sm\", \"fxLayout.gt-md\", \"fxLayout.gt-lg\"] }, { type: i7.DefaultFlexDirective, selector: \"  [fxFlex], [fxFlex.xs], [fxFlex.sm], [fxFlex.md],  [fxFlex.lg], [fxFlex.xl], [fxFlex.lt-sm], [fxFlex.lt-md],  [fxFlex.lt-lg], [fxFlex.lt-xl], [fxFlex.gt-xs], [fxFlex.gt-sm],  [fxFlex.gt-md], [fxFlex.gt-lg]\", inputs: [\"fxFlex\", \"fxFlex.xs\", \"fxFlex.sm\", \"fxFlex.md\", \"fxFlex.lg\", \"fxFlex.xl\", \"fxFlex.lt-sm\", \"fxFlex.lt-md\", \"fxFlex.lt-lg\", \"fxFlex.lt-xl\", \"fxFlex.gt-xs\", \"fxFlex.gt-sm\", \"fxFlex.gt-md\", \"fxFlex.gt-lg\"] }, { type: i2.MatTreeNodeDef, selector: \"[matTreeNodeDef]\", inputs: [\"matTreeNodeDefWhen\", \"matTreeNode\"] }, { type: i2.MatTreeNode, selector: \"mat-tree-node\", inputs: [\"role\", \"disabled\", \"tabIndex\"], exportAs: [\"matTreeNode\"] }, { type: i2.MatTreeNodeToggle, selector: \"[matTreeNodeToggle]\", inputs: [\"matTreeNodeToggleRecursive\"] }, { type: i2.MatTreeNodePadding, selector: \"[matTreeNodePadding]\", inputs: [\"matTreeNodePadding\", \"matTreeNodePaddingIndent\"] }] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.1\", ngImport: i0, type: LcuDocsComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'lcu-markdown-docs', template: \"<div fxLayout=\\\"row\\\" *ngIf=\\\"Config\\\">\\r\\n  <div fxFlex=\\\"0 1 auto\\\">\\r\\n    <mat-tree [dataSource]=\\\"DataSource\\\" [treeControl]=\\\"TreeControl\\\">\\r\\n      <mat-tree-node\\r\\n        *matTreeNodeDef=\\\"let node\\\"\\r\\n        matTreeNodeToggle\\r\\n        [matTreeNodePadding]=\\\"Config.IndentVariant * node.level\\\"\\r\\n      >\\r\\n        <button mat-icon-button disabled></button>\\r\\n\\r\\n        <a mat-button (click)=\\\"GoToDoc(node.path)\\\">{{ node.filename }}</a>\\r\\n      </mat-tree-node>\\r\\n\\r\\n      <mat-tree-node\\r\\n        *matTreeNodeDef=\\\"let node; when: HasChild\\\"\\r\\n        [matTreeNodePadding]=\\\"Config.IndentVariant * node.level\\\"\\r\\n      >\\r\\n        <button\\r\\n          mat-icon-button\\r\\n          matTreeNodeToggle\\r\\n          [attr.aria-label]=\\\"'toggle ' + node.filename\\\"\\r\\n        >\\r\\n          <mat-icon class=\\\"mat-icon-rtl-mirror\\\">\\r\\n            {{ TreeControl.isExpanded(node) ? \\\"expand_more\\\" : \\\"chevron_right\\\" }}\\r\\n          </mat-icon>\\r\\n        </button>\\r\\n\\r\\n        <a mat-button matTreeNodeToggle>{{ node.filename }}</a>\\r\\n      </mat-tree-node>\\r\\n    </mat-tree>\\r\\n  </div>\\r\\n\\r\\n  <div fxFlex=\\\"auto\\\">\\r\\n    <div class=\\\"push-right\\\">\\r\\n      <ng-container *ngIf=\\\"!!ActiveDocData\\\">\\r\\n        <markdown [src]=\\\"ActiveDocData\\\"></markdown>\\r\\n      </ng-container>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\", styles: [\":host .mat-tree{padding:1rem}\\n\"] }]\r\n        }], ctorParameters: function () { return [{ type: i1.HttpClient }]; }, propDecorators: { Config: [{\r\n                type: Input,\r\n                args: ['config']\r\n            }], Docs: [{\r\n                type: Input,\r\n                args: ['docs']\r\n            }], DocChange: [{\r\n                type: Output,\r\n                args: ['docChange']\r\n            }], onClick: [{\r\n                type: HostListener,\r\n                args: ['click', ['$event.target']]\r\n            }] } });\n\nclass LcuDocumentationModule {\r\n    static forRoot() {\r\n        return {\r\n            ngModule: LcuDocumentationModule,\r\n            providers: [DocsService]\r\n        };\r\n    }\r\n}\r\nLcuDocumentationModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.1\", ngImport: i0, type: LcuDocumentationModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\nLcuDocumentationModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.1.1\", ngImport: i0, type: LcuDocumentationModule, declarations: [LcuDocsComponent], imports: [FathymSharedModule,\r\n        FormsModule,\r\n        ReactiveFormsModule,\r\n        FlexLayoutModule,\r\n        MaterialModule,\r\n        HttpClientModule, i5.MarkdownModule], exports: [LcuDocsComponent] });\r\nLcuDocumentationModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.1.1\", ngImport: i0, type: LcuDocumentationModule, imports: [[\r\n            FathymSharedModule,\r\n            FormsModule,\r\n            ReactiveFormsModule,\r\n            FlexLayoutModule,\r\n            MaterialModule,\r\n            HttpClientModule,\r\n            MarkdownModule.forRoot({\r\n                loader: HttpClient,\r\n                markedOptions: {\r\n                    provide: MarkedOptions,\r\n                    useFactory: markedOptionsFactory\r\n                }\r\n            })\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.1\", ngImport: i0, type: LcuDocumentationModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    declarations: [LcuDocsComponent],\r\n                    imports: [\r\n                        FathymSharedModule,\r\n                        FormsModule,\r\n                        ReactiveFormsModule,\r\n                        FlexLayoutModule,\r\n                        MaterialModule,\r\n                        HttpClientModule,\r\n                        MarkdownModule.forRoot({\r\n                            loader: HttpClient,\r\n                            markedOptions: {\r\n                                provide: MarkedOptions,\r\n                                useFactory: markedOptionsFactory\r\n                            }\r\n                        })\r\n                    ],\r\n                    exports: [LcuDocsComponent],\r\n                    entryComponents: []\r\n                }]\r\n        }] });\n\nclass LcuMarkdownDocsConfig {\r\n    constructor(opts) {\r\n        Object.assign(this, opts);\r\n    }\r\n}\r\nclass LcuMarkdownDoc {\r\n    constructor(opts) {\r\n        Object.assign(this, opts);\r\n    }\r\n}\r\nclass LcuMarkdownDocChangeEvent {\r\n    constructor(opts) {\r\n        Object.assign(this, opts);\r\n    }\r\n}\n\nclass DocsModel {\r\n}\n\nclass DocsManagerContext extends StateContext {\r\n    constructor(injector) {\r\n        super(injector);\r\n        this.injector = injector;\r\n    }\r\n    GetDocsById(id) {\r\n        this.State.Loading = true;\r\n        this.Execute({\r\n            Arguments: {\r\n                DocsId: id\r\n            },\r\n            Type: 'get-docs-by-id'\r\n        });\r\n    }\r\n    loadStateKey() {\r\n        return 'main';\r\n    }\r\n    loadStateName() {\r\n        return 'docs';\r\n    }\r\n}\r\nDocsManagerContext.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.1\", ngImport: i0, type: DocsManagerContext, deps: [{ token: i0.Injector }], target: i0.ɵɵFactoryTarget.Injectable });\r\nDocsManagerContext.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"13.1.1\", ngImport: i0, type: DocsManagerContext, providedIn: 'root' });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.1\", ngImport: i0, type: DocsManagerContext, decorators: [{\r\n            type: Injectable,\r\n            args: [{\r\n                    providedIn: 'root'\r\n                }]\r\n        }], ctorParameters: function () { return [{ type: i0.Injector }]; } });\n\nclass DocsUtils {\r\n    static upperDocs(input) {\r\n        return input.toUpperCase();\r\n    }\r\n}\n\n/**\r\n * Generated bundle index. Do not edit.\r\n */\n\nexport { DocsManagerContext, DocsModel, DocsService, DocsUtils, FileFlatNode, FileNode, LcuDocsComponent, LcuDocumentationModule, LcuMarkdownDoc, LcuMarkdownDocChangeEvent, LcuMarkdownDocsConfig, markedOptionsFactory, originalHeading };\n//# sourceMappingURL=lowcodeunit-lcu-documentation-common.mjs.map\n","map":{"version":3,"file":"lowcodeunit-lcu-documentation-common.mjs","sources":["../../../projects/common/src/lib/services/docs.service.ts","../../../projects/common/src/lib/controls/docs/docs.component.ts","../../../projects/common/src/lib/controls/docs/docs.component.html","../../../projects/common/src/lib/lcu-documentation.module.ts","../../../projects/common/src/lib/models/docs-config.ts","../../../projects/common/src/lib/models/docs.model.ts","../../../projects/common/src/lib/state/docs-manager.context.ts","../../../projects/common/src/lib/utils/docs.utils.ts","../../../projects/common/src/lowcodeunit-lcu-documentation-common.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class DocsService {\r\n\r\n  constructor() { }\r\n\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport {\r\n  Component,\r\n  OnInit,\r\n  Input,\r\n  Output,\r\n  EventEmitter,\r\n  HostListener\r\n} from '@angular/core';\r\nimport {\r\n  LcuMarkdownDocsConfig,\r\n  LcuMarkdownDocChangeEvent,\r\n  LcuMarkdownDoc\r\n} from '../../models/docs-config';\r\n// import { isString } from 'util';\r\nimport { FlatTreeControl } from '@angular/cdk/tree';\r\nimport { MatTreeFlattener, MatTreeFlatDataSource } from '@angular/material/tree';\r\nimport { Observable, of as observableOf } from 'rxjs';\r\nimport { MarkedOptions, MarkedRenderer } from 'ngx-markdown';\r\n\r\nexport class FileNode {\r\n  children: FileNode[];\r\n  filename: string;\r\n  level: number;\r\n  path: string;\r\n}\r\n\r\n/** Flat node with expandable and level information */\r\nexport class FileFlatNode {\r\n  constructor(\r\n    public expandable: boolean,\r\n    public filename: string,\r\n    public level: number,\r\n    public path: string\r\n  ) {}\r\n}\r\n\r\nexport const originalHeading = new MarkedRenderer().heading;\r\n\r\nexport function markedOptionsFactory(): MarkedOptions {\r\n  const renderer = new MarkedRenderer();\r\n\r\n  let lastLevel = 0;\r\n\r\n  renderer.heading = (text: string, level: number, raw: string) => {\r\n    lastLevel = level;\r\n    return '<h' + level + '>' + text + '</h' + level + '>\\n';\r\n  };\r\n\r\n  renderer.link = (href: string, title: string, text: string) => {\r\n    return `<a title=\"${title || ''}\" href=\"${href}\">${text ||\r\n      title ||\r\n      href}</a>`;\r\n  };\r\n\r\n  renderer.paragraph = (text: string) => {\r\n    let pClass = '';\r\n\r\n    switch (lastLevel) {\r\n      case 1:\r\n      case 2:\r\n        pClass = 'mat-body-3';\r\n        break;\r\n      case 3:\r\n      case 4:\r\n        pClass = 'mat-body-2';\r\n        break;\r\n      default:\r\n        pClass = 'mat-body-1';\r\n        break;\r\n    }\r\n\r\n    return `<p class=\"${pClass}\">${text}</p>`;\r\n  };\r\n\r\n  return { renderer };\r\n}\r\n\r\nconst path = require('path-browserify');\r\n\r\n@Component({\r\n  selector: 'lcu-markdown-docs',\r\n  templateUrl: './docs.component.html',\r\n  styleUrls: ['./docs.component.scss']\r\n})\r\nexport class LcuDocsComponent implements OnInit {\r\n\r\n  //  Properties\r\n  public ActiveDocData: string;\r\n  public ActiveDocPath: string;\r\n  public DataSource: MatTreeFlatDataSource<FileNode, FileFlatNode>;\r\n  public TreeControl: FlatTreeControl<FileFlatNode>;\r\n  public TreeFlattener: MatTreeFlattener<FileNode, FileFlatNode>;\r\n\r\n  @Input('config') public Config: LcuMarkdownDocsConfig;\r\n\r\n  @Input('docs')\r\n  public set Docs(docs: string) {\r\n    this.http\r\n      .get(path.join(docs, 'lcu.docs.json'))\r\n      .subscribe((res: LcuMarkdownDocsConfig) => {\r\n        this.Config = res;\r\n        this.Reload();\r\n      });\r\n  }\r\n\r\n  @Output('docChange')\r\n  public DocChange: EventEmitter<LcuMarkdownDocChangeEvent>;\r\n\r\n  //  Constructors\r\n  constructor(protected http: HttpClient) {\r\n    this.DocChange = new EventEmitter();\r\n\r\n    this.TreeFlattener = new MatTreeFlattener(\r\n      this.Transformer,\r\n      this.getLevel,\r\n      this.isExpandable,\r\n      this.getChildren\r\n    );\r\n\r\n    this.TreeControl = new FlatTreeControl<FileFlatNode>(\r\n      this.getLevel,\r\n      this.isExpandable\r\n    );\r\n\r\n    this.DataSource = new MatTreeFlatDataSource(\r\n      this.TreeControl,\r\n      this.TreeFlattener\r\n    );\r\n  }\r\n\r\n  //  Life Cycle\r\n  public ngOnInit(): void {\r\n    this.Reload();\r\n  }\r\n\r\n  @HostListener('click', ['$event.target'])\r\n  public onClick(btn: any) {\r\n    if (btn && btn.href && (btn.href as string).endsWith('.md')) {\r\n      const path = btn.href.replace(document.getElementsByTagName('base')[0].href, '');\r\n\r\n      console.log(`Going to doc: ${path}`);\r\n\r\n      this.GoToDoc(path);\r\n\r\n      return false;\r\n    }\r\n  }\r\n\r\n  //  API Methods\r\n  public BuildFileTree(): void {\r\n    this.DataSource.data = this.buildFileTree(this.Config.Docs, 0);\r\n  }\r\n\r\n  public FindDoc(path: string): LcuMarkdownDoc {\r\n    return this.Config.Docs.find(d => d.Path === path);\r\n  }\r\n\r\n  public GoToDoc(docOpt: LcuMarkdownDoc | string): void {\r\n    const docPath = typeof docOpt === 'string'\r\n      ? docOpt as string\r\n      : (docOpt as LcuMarkdownDoc).Path;\r\n\r\n    if (this.ActiveDocPath !== docPath) {\r\n      this.ActiveDocPath = docPath;\r\n    }\r\n\r\n    this.calculateActiveDocData();\r\n    this.DocChange.emit({ DocPath: docPath });\r\n  }\r\n\r\n  public HasChild(_: number, nodeData: FileFlatNode): boolean {\r\n    return nodeData.expandable;\r\n  }\r\n\r\n  public Reload(): void {\r\n    if (this.Config && this.Config.Docs && this.Config.Docs.length > 0) {\r\n      this.BuildFileTree();\r\n\r\n      this.GoToDoc(\r\n        this.ActiveDocPath || this.Config.DefaultDocPath || this.Config.Docs[0]\r\n      );\r\n    }\r\n  }\r\n\r\n  public Transformer(node: FileNode): FileFlatNode {\r\n    return new FileFlatNode(!!node.children, node.filename, node.level, node.path);\r\n  }\r\n\r\n  //  Helpers\r\n  protected buildFileTree(docs: LcuMarkdownDoc[], level: number): FileNode[] {\r\n    return docs.reduce<FileNode[]>((accumulator, doc) => {\r\n      const node = this.buildFileNodeFromDoc(doc, level);\r\n\r\n      return accumulator.concat(node);\r\n    }, []);\r\n  }\r\n\r\n  protected buildFileNodeFromDoc(doc: LcuMarkdownDoc, level: number, bypassChildren?: boolean): FileNode {\r\n    const node = new FileNode();\r\n\r\n    if (doc != null) {\r\n      node.filename = doc.Title;\r\n      node.level = level;\r\n\r\n      if (!bypassChildren && doc.Children && doc.Children.length > 0) {\r\n        node.children = this.buildFileTree(doc.Children, level + 1);\r\n        const docCatch = {...doc};\r\n        docCatch.Children = null;\r\n      } else {\r\n        node.path = doc.Path;\r\n      }\r\n    }\r\n\r\n    return node;\r\n  }\r\n\r\n  protected calculateActiveDocData(): void {\r\n    if (this.Config && this.ActiveDocPath) {\r\n      this.ActiveDocData = path.join(this.Config.LocationRoot, this.ActiveDocPath);\r\n    } else {\r\n      this.ActiveDocData = null;\r\n    }\r\n  }\r\n\r\n  protected getLevel(node: FileFlatNode): number {\r\n    return node.level;\r\n  }\r\n\r\n  protected isExpandable(node: FileFlatNode): boolean {\r\n    return node.expandable;\r\n  }\r\n\r\n  protected getChildren(node: FileNode): Observable<FileNode[]> {\r\n    return observableOf(node.children);\r\n  }\r\n}\r\n","<div fxLayout=\"row\" *ngIf=\"Config\">\r\n  <div fxFlex=\"0 1 auto\">\r\n    <mat-tree [dataSource]=\"DataSource\" [treeControl]=\"TreeControl\">\r\n      <mat-tree-node\r\n        *matTreeNodeDef=\"let node\"\r\n        matTreeNodeToggle\r\n        [matTreeNodePadding]=\"Config.IndentVariant * node.level\"\r\n      >\r\n        <button mat-icon-button disabled></button>\r\n\r\n        <a mat-button (click)=\"GoToDoc(node.path)\">{{ node.filename }}</a>\r\n      </mat-tree-node>\r\n\r\n      <mat-tree-node\r\n        *matTreeNodeDef=\"let node; when: HasChild\"\r\n        [matTreeNodePadding]=\"Config.IndentVariant * node.level\"\r\n      >\r\n        <button\r\n          mat-icon-button\r\n          matTreeNodeToggle\r\n          [attr.aria-label]=\"'toggle ' + node.filename\"\r\n        >\r\n          <mat-icon class=\"mat-icon-rtl-mirror\">\r\n            {{ TreeControl.isExpanded(node) ? \"expand_more\" : \"chevron_right\" }}\r\n          </mat-icon>\r\n        </button>\r\n\r\n        <a mat-button matTreeNodeToggle>{{ node.filename }}</a>\r\n      </mat-tree-node>\r\n    </mat-tree>\r\n  </div>\r\n\r\n  <div fxFlex=\"auto\">\r\n    <div class=\"push-right\">\r\n      <ng-container *ngIf=\"!!ActiveDocData\">\r\n        <markdown [src]=\"ActiveDocData\"></markdown>\r\n      </ng-container>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { FlexLayoutModule } from '@angular/flex-layout';\r\nimport { FathymSharedModule, MaterialModule } from '@lcu/common';\r\nimport { DocsService } from './services/docs.service';\r\nimport { LcuDocsComponent, markedOptionsFactory } from './controls/docs/docs.component';\r\nimport { HttpClientModule, HttpClient } from '@angular/common/http';\r\nimport { MarkdownModule, MarkedOptions } from 'ngx-markdown';\r\n\r\n@NgModule({\r\n  declarations: [LcuDocsComponent],\r\n  imports: [\r\n    FathymSharedModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    FlexLayoutModule,\r\n    MaterialModule,\r\n    HttpClientModule,\r\n    MarkdownModule.forRoot({\r\n      loader: HttpClient,\r\n      markedOptions: {\r\n        provide: MarkedOptions,\r\n        useFactory: markedOptionsFactory\r\n      }\r\n    })\r\n  ],\r\n  exports: [LcuDocsComponent],\r\n  entryComponents: []\r\n})\r\nexport class LcuDocumentationModule {\r\n  static forRoot(): ModuleWithProviders<LcuDocumentationModule> {\r\n    return {\r\n      ngModule: LcuDocumentationModule,\r\n      providers: [DocsService]\r\n    };\r\n  }\r\n}\r\n","export class LcuMarkdownDocsConfig {\r\n  public DefaultDocPath?: string;\r\n  public DisableNavigation?: boolean;\r\n  public Docs: LcuMarkdownDoc[];\r\n  public IndentVariant?: number;\r\n  public LocationRoot: string;\r\n\r\n  constructor(opts: LcuMarkdownDocsConfig) {\r\n    Object.assign(this, opts);\r\n  }\r\n}\r\n\r\nexport class LcuMarkdownDoc {\r\n  public Children: LcuMarkdownDoc[];\r\n  public Path: string;\r\n  public Title: string;\r\n\r\n  constructor(opts: LcuMarkdownDoc) {\r\n    Object.assign(this, opts);\r\n  }\r\n}\r\n\r\nexport class LcuMarkdownDocChangeEvent {\r\n  public DocPath: string;\r\n\r\n  constructor(opts: LcuMarkdownDocChangeEvent) {\r\n    Object.assign(this, opts);\r\n  }\r\n}\r\n","export class DocsModel {\r\n    public DocsId: number;\r\n    public Content: string;\r\n    public Icon: string;\r\n    public Loading?: boolean;\r\n    public Subtitle: string;\r\n    public Title: string;\r\n    public Url?: string;\r\n}\r\n","import { Injectable, Injector } from '@angular/core';\r\nimport { StateContext } from '@lcu/common';\r\nimport { DocsModel } from '../models/docs.model';\r\n\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\nexport class DocsManagerContext extends StateContext<DocsModel> {\r\n\r\n    protected State: DocsModel;\r\n\r\n    constructor(protected injector: Injector) {\r\n        super(injector);\r\n    }\r\n\r\n    public GetDocsById(id: number): void {\r\n        this.State.Loading = true;\r\n\r\n        this.Execute({\r\n            Arguments: {\r\n                DocsId: id\r\n            },\r\n            Type: 'get-docs-by-id'\r\n        });\r\n    }\r\n\r\n    protected loadStateKey(): string {\r\n        return 'main';\r\n    }\r\n\r\n    protected loadStateName(): string {\r\n        return 'docs';\r\n    }\r\n}\r\n","export class DocsUtils {\r\n\r\n    public static upperDocs(input: string): string {\r\n        return input.toUpperCase();\r\n    }\r\n}\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './lcu.api';\n"],"names":["observableOf"],"mappings":"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"}}}